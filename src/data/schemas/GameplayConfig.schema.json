{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "GameplayConfig.json",
  "title": "GameplayConfig",
  "description": "GameplayConfig asset type",
  "type": "object",
  "allOf": [
    {
      "$ref": "base.schema.json"
    }
  ],
  "properties": {
    "Gathering": {
      "anyOf": [
        {
          "default": {
            "UnbreakableBlock": {},
            "IncorrectTool": {}
          },
          "$ref": "common.schema.json#/$defs/GatheringConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "World": {
      "anyOf": [
        {
          "default": {
            "AllowBlockBreaking": true,
            "AllowBlockGathering": true,
            "AllowBlockPlacement": true,
            "BlockPlacementFragilityTimer": 0,
            "DaytimeDurationSeconds": 1728,
            "NighttimeDurationSeconds": 1728,
            "TotalMoonPhases": 5,
            "Sleep": {
              "WakeUpHour": 5.5
            }
          },
          "$ref": "common.schema.json#/$defs/WorldConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "WorldMap": {
      "anyOf": [
        {
          "default": {
            "DisplaySpawn": true,
            "DisplayHome": true,
            "DisplayWarps": true,
            "DisplayDeathMarker": true,
            "DisplayPlayers": true
          },
          "$ref": "common.schema.json#/$defs/WorldMapConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "Death": {
      "anyOf": [
        {
          "default": {
            "RespawnController": {
              "Type": "HomeOrSpawnPoint"
            },
            "ItemsLossMode": "None",
            "ItemsAmountLossPercentage": 10,
            "ItemsDurabilityLossPercentage": 10
          },
          "$ref": "common.schema.json#/$defs/DeathConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "Respawn": {
      "anyOf": [
        {
          "default": {
            "RadiusLimitRespawnPoint": 500,
            "MaxRespawnPointsPerPlayer": 3
          },
          "$ref": "common.schema.json#/$defs/RespawnConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "ShowItemPickupNotifications": {
      "type": "boolean",
      "default": true
    },
    "ItemDurability": {
      "anyOf": [
        {
          "default": {
            "BrokenPenalties": {}
          },
          "$ref": "common.schema.json#/$defs/ItemDurabilityConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "ItemEntity": {
      "anyOf": [
        {
          "default": {
            "Physics": {
              "Mass": 5,
              "DragCoefficient": 0.5,
              "InvertedGravity": false
            },
            "PickupRadius": 1.75,
            "ParticleSystemId": "Item",
            "ShowItemParticles": true
          },
          "$ref": "common.schema.json#/$defs/ItemEntityConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "Combat": {
      "anyOf": [
        {
          "default": {
            "OutOfCombatDelaySeconds": 5,
            "StaminaBrokenEffectId": "Stamina_Broken",
            "DisplayHealthBars": true,
            "DisplayCombatText": true,
            "DisableNPCIncomingDamage": false,
            "DisablePlayerIncomingDamage": false
          },
          "$ref": "common.schema.json#/$defs/CombatConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "Plugin": {
      "type": "object",
      "properties": {
        "ForgottenTemple": {
          "type": "object",
          "title": "ForgottenTempleConfig",
          "properties": {
            "MinYRespawn": {
              "type": "number",
              "description": "The Y at which players are teleported back to spawn.",
              "default": 5
            },
            "RespawnSound": {
              "type": [
                "string",
                "null"
              ],
              "description": "The sound ID to play when players respawn in the temple."
            }
          },
          "additionalProperties": false
        },
        "Memories": {
          "type": "object",
          "title": "MemoriesGameplayConfig",
          "properties": {
            "MemoriesAmountPerLevel": {
              "type": "array",
              "items": {
                "type": "integer"
              }
            },
            "MemoriesRecordParticles": {
              "type": "string"
            },
            "MemoriesCatchItemId": {
              "type": "string"
            },
            "MemoriesCatchEntityParticle": {
              "$ref": "common.schema.json#/$defs/ModelParticle"
            },
            "MemoriesCatchParticleViewDistance": {
              "type": "integer",
              "exclusiveMinimum": 16,
              "default": 64
            }
          },
          "additionalProperties": false
        },
        "Objective": {
          "type": "object",
          "title": "ObjectiveGameplayConfig",
          "properties": {
            "StarterObjectiveLinePerWorld": {
              "type": [
                "object",
                "null"
              ],
              "title": "Map",
              "additionalProperties": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false
        },
        "Portal": {
          "type": "object",
          "title": "PortalGameplayConfig",
          "properties": {
            "VoidEvent": {
              "anyOf": [
                {
                  "$ref": "common.schema.json#/$defs/VoidEventConfig"
                },
                {
                  "type": "null"
                }
              ]
            }
          },
          "additionalProperties": false
        },
        "Reputation": {
          "type": "object",
          "title": "ReputationGameplayConfig",
          "properties": {
            "ReputationStorage": {
              "type": [
                "string",
                "null"
              ],
              "title": "ReputationStorageType",
              "enum": [
                "PerPlayer",
                "PerWorld"
              ],
              "default": "PerPlayer"
            }
          },
          "additionalProperties": false
        },
        "Stamina": {
          "type": "object",
          "title": "StaminaGameplayConfig",
          "properties": {
            "SprintRegenDelay": {
              "description": "The stamina regeneration delay applied after sprinting",
              "$ref": "common.schema.json#/$defs/SprintRegenDelayConfig"
            }
          },
          "additionalProperties": false
        },
        "Stash": {
          "type": "object",
          "title": "StashGameplayConfig",
          "properties": {
            "ClearContainerDropList": {
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "Player": {
      "anyOf": [
        {
          "default": {
            "MovementConfig": "BuiltinDefault",
            "MaxDeployableEntities": -1,
            "ArmorVisibilityOption": "All"
          },
          "$ref": "common.schema.json#/$defs/PlayerConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "CameraEffects": {
      "default": {},
      "$ref": "common.schema.json#/$defs/CameraEffectsConfig"
    },
    "CreativePlaySoundSet": {
      "anyOf": [
        {
          "type": "string",
          "title": "Reference to SoundSet"
        },
        {
          "$ref": "SoundSet.json#"
        },
        {
          "type": "null"
        }
      ]
    },
    "Crafting": {
      "anyOf": [
        {
          "default": {
            "BenchMaterialChestHorizontalSearchRadius": 14,
            "BenchMaterialChestVerticalSearchRadius": 6,
            "BenchMaterialChestLimit": 100
          },
          "$ref": "common.schema.json#/$defs/CraftingConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "Spawn": {
      "anyOf": [
        {
          "default": {},
          "$ref": "common.schema.json#/$defs/SpawnConfig"
        },
        {
          "type": "null"
        }
      ]
    },
    "MaxEnvironmentalNPCSpawns": {
      "type": "integer",
      "description": "The absolute maximum number of environmental NPC spawns. < 0 for infinite.",
      "default": 500
    }
  }
}